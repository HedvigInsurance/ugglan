query ContractBundle {
  currentMember {
    activeContracts {
        ...ContractFragment
    }
    pendingContracts {
      displayItems {
        ...AgreementDisplayItemFragment
      }
      exposureDisplayName
      id
      premium {
        ...MoneyFragment
      }
      productVariant {
        ...ProductVariantFragment
      }
    }
    terminatedContracts {
        ...ContractFragment
    }
  }
}

fragment ContractFragment on Contract {
      currentAgreement {
        ...AgreementFragment
      }
      exposureDisplayName
      externalInsuranceCancellation {
        ...ContractExternalInsuranceCancellationFragment
      }
      id
      masterInceptionDate
      supportsAddressChange
      terminationDate
      upcomingChangedAgreement {
         ...AgreementFragment
      }
      upcomingRenewal {
        ...ContractRenewalFragment
      }
}

fragment ContractRenewalFragment on ContractRenewal {
    draftCertificateUrl
    renewalDate
}

fragment AgreementFragment on Agreement {
    activeFrom
    activeTo
    certificateUrl
    displayItems {
        ...AgreementDisplayItemFragment
    }
    premium {
        ...MoneyFragment
    }
    productVariant {
        ...ProductVariantFragment
    }
}

fragment AgreementDisplayItemFragment on AgreementDisplayItem {
    displayTitle
    displayValue
}

fragment ContractExternalInsuranceCancellationFragment on ContractExternalInsuranceCancellation {
    bankSignering {
        approveByDate
        url
      }
    externalInsurer {
        displayName
        id
        insurelyId
      }
    id
    status
    type
}
