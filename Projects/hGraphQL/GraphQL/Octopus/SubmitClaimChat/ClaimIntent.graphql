query ClaimIntent($claimIntentId: ID!) {
  claimIntent(id: $claimIntentId) {
    ...ClaimIntentFragment
  }
}

fragment ClaimIntentFragment on ClaimIntent {
    id
    currentStep {
        ...ClaimIntentStepFragment
    }
    sourceMessages {
        ...ClaimIntentSourceMessageFragment
    }
    outcome {
        ...ClaimIntentOutcomeFragment
    }
}

fragment ClaimIntentOutcomeFragment on ClaimIntentOutcome {
    ...  on ClaimIntentOutcomeClaim {
        claim {
            ...ClaimFragment
        }
        claimId
    }
    ... on ClaimIntentOutcomeDeflection {
        type
        title
        description
        partners {
            ...ClaimIntentOutcomeDeflectionPartnerFragment
        }
    }
}

fragment ClaimIntentOutcomeDeflectionPartnerFragment on ClaimIntentOutcomeDeflectionPartner {
    id
    imageUrl
    phoneNumber
    title
    description
    info
    url
    urlButtonTitle
}

fragment ClaimIntentStepFragment on ClaimIntentStep {
      id
      text
      content {
        ...ClaimIntentStepContentFragment
      }
}

fragment ClaimIntentSourceMessageFragment on ClaimIntentSourceMessage {
    id
    text
}

fragment ClaimIntentStepContentFragment on ClaimIntentStepContent {
        ... on ClaimIntentStepContentForm {
          fields {
            ...ClaimIntentStepContentFormFieldFragment
          }
          isSkippable
          isRegrettable
        }
        ... on ClaimIntentStepContentTask {
          description
          isCompleted
        }
        ... on ClaimIntentStepContentAudioRecording {
          hint
          uploadUri
          isSkippable
          isRegrettable
        }
        ... on ClaimIntentStepContentFileUpload {
          uploadUri
          isSkippable
          isRegrettable
        }
        ... on ClaimIntentStepContentSummary {
          items {
            title
            value
          }
          audioRecordings {
            url
          }
          fileUploads {
            url
            contentType
            fileName
          }
        }
		... on ClaimIntentStepContentSelect {
			  options {
				id
				title
			  }
			  isSkippable
			  isRegrettable
		}
}

fragment ClaimIntentStepContentFormFieldFragment on ClaimIntentStepContentFormField {
	id
	type
	title
	suffix
	isRequired
	options {
		title
		value
	}
	defaultValues
	minValue
	maxValue
}
