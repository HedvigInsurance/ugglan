
query Chat($until: Instant) {
  chat(until: $until) {
    hasNext
    id
    nextUntil
    messages {
        ...MessageFragment
    }
  }
}

fragment MessageFragment on ChatMessage {
    id
    sender
    sentAt
    ... ChatMessageFileFragment
    ... ChatMessageTextFragment
}

fragment ChatMessageFileFragment on ChatMessageFile {
    signedUrl
    mimeType
}

fragment ChatMessageTextFragment on ChatMessageText {
    text
}
